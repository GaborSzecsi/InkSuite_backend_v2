{"openapi":"3.1.0","info":{"title":"InkSuite API","version":"1.0.0"},"paths":{"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","description":"Backend logout notes:\n- If your frontend stores tokens in localStorage/sessionStorage, YOU MUST clear them client-side.\n- If you store refresh_token in an HttpOnly cookie, uncomment the delete_cookie line below.","operationId":"logout_api_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Me","operationId":"me_api_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]}},"/api/tenants/{tenant_slug}/members":{"get":{"tags":["Tenants"],"summary":"List Members","description":"List members of a tenant.\nAdmin-only.","operationId":"list_members_api_tenants__tenant_slug__members_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]}},"/api/tenants/{tenant_slug}/invites":{"get":{"tags":["Tenants"],"summary":"List Pending Invites","description":"List pending (not yet accepted) invites for the tenant.","operationId":"list_pending_invites_api_tenants__tenant_slug__invites_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Tenants"],"summary":"Invite User","description":"Invite a user to the tenant.\nAdmin-only.","operationId":"invite_user_api_tenants__tenant_slug__invites_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]}},"/api/tenants/{tenant_slug}/users/{user_id}/role":{"put":{"tags":["Tenants"],"summary":"Update User Role","description":"Set a member's role to tenant_admin or editor.","operationId":"update_user_role_api_tenants__tenant_slug__users__user_id__role_put","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenants/{tenant_slug}/users/{user_id}/permissions":{"put":{"tags":["Tenants"],"summary":"Update User Permissions","description":"Set module_permissions for a member (typically editors).","operationId":"update_user_permissions_api_tenants__tenant_slug__users__user_id__permissions_put","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionsBody"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenants/{tenant_slug}/users/{user_id}":{"delete":{"tags":["Tenants"],"summary":"Revoke User Access","description":"Remove user's membership in this tenant (revoke access).","operationId":"revoke_user_access_api_tenants__tenant_slug__users__user_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenants/{tenant_slug}/invites/{invite_id}":{"delete":{"tags":["Tenants"],"summary":"Cancel Invite","description":"Cancel a pending invite (delete).","operationId":"cancel_invite_api_tenants__tenant_slug__invites__invite_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"invite_id","in":"path","required":true,"schema":{"type":"string","title":"Invite Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tenants/{tenant_slug}/invites/{invite_id}/resend":{"post":{"tags":["Tenants"],"summary":"Resend Invite","description":"Generate new invite token and return new link (caller can send email).","operationId":"resend_invite_api_tenants__tenant_slug__invites__invite_id__resend_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"invite_id","in":"path","required":true,"schema":{"type":"string","title":"Invite Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invites/by-token":{"get":{"tags":["Invites"],"summary":"Invite By Token","description":"Public: get invite details by token for the accept-invite page.\nReturns tenant_name, email, role, expires_at.","operationId":"invite_by_token_api_invites_by_token_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invites/accept":{"post":{"tags":["Invites"],"summary":"Accept Invite Register","description":"Public: accept invite by registering (Cognito sign-up + user + membership).\nOn success returns tokens for immediate login or message to sign in.","operationId":"accept_invite_register_api_invites_accept_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AcceptInviteBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/tenants":{"get":{"tags":["Admin"],"summary":"List Tenants","description":"List all tenants. Superadmin only.","operationId":"list_tenants_api_admin_tenants_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Admin"],"summary":"Create Tenant","description":"Create a new tenant. Superadmin only.","operationId":"create_tenant_api_admin_tenants_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTenantBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}]}},"/api/uploads/health":{"get":{"tags":["Uploads"],"summary":"Uploads Health","operationId":"uploads_health_api_uploads_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/uploads/book-assets":{"get":{"tags":["Uploads"],"summary":"List Book Assets","operationId":"list_book_assets_api_uploads_book_assets_get","parameters":[{"name":"bookUid","in":"query","required":true,"schema":{"type":"string","title":"Bookuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/royalty/":{"get":{"tags":["Royalty","royalty"],"summary":"Info","operationId":"info_api_royalty__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/royalty/books":{"get":{"tags":["Royalty","royalty"],"summary":"Get Books","description":"✅ Returns a top-level JSON array of books from S3 (load_books()).","operationId":"get_books_api_royalty_books_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Books Api Royalty Books Get"}}}}}},"post":{"tags":["Royalty","royalty"],"summary":"Save Book","description":"Save or update a book while preserving ALL fields provided by the frontend.\nNote: This still uses calculator.save_book_raw (your current behavior).","operationId":"save_book_api_royalty_books_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Royalty","royalty"],"summary":"Delete Book","operationId":"delete_book_api_royalty_books_delete","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string","title":"Title"}},{"name":"author","in":"query","required":true,"schema":{"type":"string","title":"Author"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/royalty/calculate":{"post":{"tags":["Royalty","royalty"],"summary":"Calculate Royalties","description":"Finds the requested book by uid and returns the calculation dict.\n✅ Uses S3 books.","operationId":"calculate_royalties_api_royalty_calculate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoyaltyStatementRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/royalty/statements":{"post":{"tags":["Royalty","royalty"],"summary":"Save Royalty Statement","description":"Saves royalty statements and generates PDFs conditionally:\n- Author: if there is any sales/royalty row (same as before)\n- Illustrator: ONLY if there is at least one royalty % > 0\n✅ Uses S3 books.","operationId":"save_royalty_statement_api_royalty_statements_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoyaltyStatementRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/royalty/statements/{person_type}/{person_name}":{"get":{"tags":["Royalty","royalty"],"summary":"Get Person Statements","operationId":"get_person_statements_api_royalty_statements__person_type___person_name__get","parameters":[{"name":"person_type","in":"path","required":true,"schema":{"type":"string","title":"Person Type"}},{"name":"person_name","in":"path","required":true,"schema":{"type":"string","title":"Person Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Royalty","royalty"],"summary":"Delete Statement","operationId":"delete_statement_api_royalty_statements__person_type___person_name__delete","parameters":[{"name":"person_type","in":"path","required":true,"schema":{"type":"string","title":"Person Type"}},{"name":"person_name","in":"path","required":true,"schema":{"type":"string","title":"Person Name"}},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","title":"Period Start"}},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","title":"Period End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/royalty/categories":{"get":{"tags":["Royalty","royalty"],"summary":"Get Categories","operationId":"get_categories_api_royalty_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/royalty/format-types":{"get":{"tags":["Royalty","royalty"],"summary":"Get Format Types","operationId":"get_format_types_api_royalty_format_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/royalty/render":{"post":{"tags":["Royalty","royalty"],"summary":"Render Royalty Statement","description":"Render a royalty statement as HTML or PDF for a specific party.\nAlso saves statement data to JSON files for history.\n\nRule:\n  - If party == 'illustrator', only allow render/save when at least one\n    row has a royalty % strictly greater than 0. If not, return a 200\n    HTML placeholder (for html) or 204 (for pdf) instead of 400.","operationId":"render_royalty_statement_api_royalty_render_post","parameters":[{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(html|pdf)$","default":"html","title":"Format"}},{"name":"party","in":"query","required":false,"schema":{"type":"string","pattern":"^(author|illustrator)$","default":"author","title":"Party"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoyaltyStatementRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/books/health":{"get":{"tags":["Books"],"summary":"Books Health","operationId":"books_health_api_books_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/books/normalize":{"post":{"tags":["Books"],"summary":"Normalize Books","operationId":"normalize_books_api_books_normalize_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/books":{"get":{"tags":["Books"],"summary":"Get Books","operationId":"get_books_api_books_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Books Api Books Get"}}}}}},"post":{"tags":["Books"],"summary":"Save Book","description":"Upsert a book by (title, author) or id.\nSAVE nested-only (lower-case canonical format keys) to S3,\nRETURN flat mirrors + Title Case formats for UI.","operationId":"save_book_api_books_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Save Book Api Books Post"}}}}}},"delete":{"tags":["Books"],"summary":"Delete Book","operationId":"delete_book_api_books_delete","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string","title":"Title"}},{"name":"author","in":"query","required":true,"schema":{"type":"string","title":"Author"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/api/uploads/health":{"get":{"tags":["Uploads","Uploads"],"summary":"Uploads Health","operationId":"uploads_health_api_api_uploads_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/api/uploads/book-assets":{"get":{"tags":["Uploads","Uploads"],"summary":"List Book Assets","operationId":"list_book_assets_api_api_uploads_book_assets_get","parameters":[{"name":"bookUid","in":"query","required":true,"schema":{"type":"string","title":"Bookuid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/api/uploads/":{"post":{"tags":["Uploads","Uploads"],"summary":"Upload File","operationId":"upload_file_api_api_uploads__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_api_uploads__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/{book_key}":{"get":{"tags":["Banking"],"summary":"Get Banking","operationId":"get_banking_api__book_key__get","parameters":[{"name":"book_key","in":"path","required":true,"schema":{"type":"string","title":"Book Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankingEnvelope-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Banking"],"summary":"Put Banking","operationId":"put_banking_api__book_key__put","parameters":[{"name":"book_key","in":"path","required":true,"schema":{"type":"string","title":"Book Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankingEnvelope-Input"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankingEnvelope-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates":{"get":{"tags":["Contracts","contracts"],"summary":"List Templates","operationId":"list_templates_api_contracts_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ContractTemplate"},"type":"array","title":"Response List Templates Api Contracts Templates Get"}}}}}},"post":{"tags":["Contracts","contracts"],"summary":"Upload Template","operationId":"upload_template_api_contracts_templates_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_template_api_contracts_templates_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractTemplate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}":{"get":{"tags":["Contracts","contracts"],"summary":"Get Template","operationId":"get_template_api_contracts_templates__tid__get","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContractTemplate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Contracts","contracts"],"summary":"Delete Template","description":"Permanently delete a template: the .docx, mapping JSON, version backups,\nand its index entry. Returns 204 on success.","operationId":"delete_template_api_contracts_templates__tid__delete","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/file":{"get":{"tags":["Contracts","contracts"],"summary":"Get Template File","description":"Serve the stored .docx inline so the browser (and previewers) can fetch it.","operationId":"get_template_file_api_contracts_templates__tid__file_get","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/html":{"get":{"tags":["Contracts","contracts"],"summary":"Get Template Html","operationId":"get_template_html_api_contracts_templates__tid__html_get","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/insert-token":{"post":{"tags":["Contracts","contracts"],"summary":"Insert Token","operationId":"insert_token_api_contracts_templates__tid__insert_token_post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InsertTokenPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/mapping":{"post":{"tags":["Contracts","contracts"],"summary":"Save Template Mapping","operationId":"save_template_mapping_api_contracts_templates__tid__mapping_post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateMapping"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/save":{"post":{"tags":["Contracts","contracts"],"summary":"Persist Updated Template","description":"Receive an updated DOCX (bytes) and overwrite it. No versioning.","operationId":"persist_updated_template_api_contracts_templates__tid__save_post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/force-save":{"post":{"tags":["Contracts","contracts"],"summary":"Force Save Noop","description":"Frontend pings this to request a save. We rely on ONLYOFFICE autosave/callback,\nso this is a harmless ACK to keep the UI happy.","operationId":"force_save_noop_api_contracts_templates__tid__force_save_post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/onlyoffice-config":{"get":{"tags":["Contracts","contracts"],"summary":"Alias Onlyoffice Config","operationId":"alias_onlyoffice_config_api_contracts_templates__tid__onlyoffice_config_get","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/templates/{tid}/onlyoffice-callback":{"post":{"tags":["Contracts","contracts"],"summary":"Alias Onlyoffice Callback","operationId":"alias_onlyoffice_callback_api_contracts_templates__tid__onlyoffice_callback_post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"default":{},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/onlyoffice/config/{tid}":{"get":{"tags":["ONLYOFFICE","onlyoffice"],"summary":"Onlyoffice Config","description":"Return a minimal ONLYOFFICE editor config for the given template.\nThe Document Server will load the file from our /api/contracts/templates/{tid}/file URL.","operationId":"onlyoffice_config_api_onlyoffice_config__tid__get","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/onlyoffice/callback/{tid}":{"post":{"tags":["ONLYOFFICE","onlyoffice"],"summary":"Onlyoffice Callback","description":"Handle save callbacks from ONLYOFFICE Document Server.\nOn status 2 (autosave/close) or 6 (Force Save), download payload.url and overwrite the .docx.\nMUST return {\"error\":0}.","operationId":"onlyoffice_callback_api_onlyoffice_callback__tid__post","parameters":[{"name":"tid","in":"path","required":true,"schema":{"type":"string","title":"Tid"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"default":{},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/dealmemos":{"get":{"tags":["Contracts Drafts","contracts"],"summary":"List Deal Memos","operationId":"list_deal_memos_api_contracts_dealmemos_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List Deal Memos Api Contracts Dealmemos Get"}}}}}},"post":{"tags":["Contracts Drafts","contracts"],"summary":"Upsert Deal Memo","operationId":"upsert_deal_memo_api_contracts_dealmemos_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Upsert Deal Memo Api Contracts Dealmemos Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/dealmemos/{uid}":{"put":{"tags":["Contracts Drafts","contracts"],"summary":"Update Deal Memo","operationId":"update_deal_memo_api_contracts_dealmemos__uid__put","parameters":[{"name":"uid","in":"path","required":true,"schema":{"type":"string","title":"Uid"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Deal Memo Api Contracts Dealmemos  Uid  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Contracts Drafts","contracts"],"summary":"Delete Draft","operationId":"delete_draft_api_contracts_dealmemos__uid__delete","parameters":[{"name":"uid","in":"path","required":true,"schema":{"type":"string","title":"Uid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Draft Api Contracts Dealmemos  Uid  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/dealmemos/_where":{"get":{"tags":["Contracts Drafts","contracts"],"summary":"Where File","operationId":"where_file_api_contracts_dealmemos__where_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/contracts/dealmemos/_touch":{"post":{"tags":["Contracts Drafts","contracts"],"summary":"Touch File","operationId":"touch_file_api_contracts_dealmemos__touch_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/contracts/draft-contracts/{item_id}/onlyoffice-config":{"get":{"tags":["Contracts Docs","contracts"],"summary":"Onlyoffice Config For Draft","operationId":"onlyoffice_config_for_draft_api_contracts_draft_contracts__item_id__onlyoffice_config_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/draft-contracts/{item_id}/callback":{"post":{"tags":["Contracts Docs","contracts"],"summary":"Onlyoffice Callback Sink","description":"Minimal callback sink. If you later want to implement ForceSave,\nparse OnlyOffice JSON body and persist the posted file.","operationId":"onlyoffice_callback_sink_api_contracts_draft_contracts__item_id__callback_post","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/generate":{"post":{"tags":["Contracts Docs","contracts"],"summary":"Generate Contract","operationId":"generate_contract_api_contracts_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/contracts/draft-contracts":{"get":{"tags":["Contracts Docs","contracts"],"summary":"List Draft Contracts","operationId":"list_draft_contracts_api_contracts_draft_contracts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/contracts/draft-contracts/{item_id}/file":{"get":{"tags":["Contracts Docs","contracts"],"summary":"Get Draft Contract File","operationId":"get_draft_contract_file_api_contracts_draft_contracts__item_id__file_get","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ingest/onix":{"post":{"tags":["Ingest","ingest"],"summary":"Ingest Uploaded Onix","description":"Ingest an ONIX file that already exists somewhere under:\n  data/uploads/<uid>/...\n\nThis is useful if you upload ONIX into a book folder first.","operationId":"ingest_uploaded_onix_api_ingest_onix_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OnixIngestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/ingest/onix-file":{"post":{"tags":["Ingest","ingest"],"summary":"Ingest Onix File","description":"Ingest an ONIX XML by uploading it directly (multipart/form-data).\n\nSaves to:\n  data/uploads/_onix_imports/<uuid>/<original_filename>\n\nThen runs ingest.","operationId":"ingest_onix_file_api_ingest_onix_file_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_ingest_onix_file_api_ingest_onix_file_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/api/financials/health":{"get":{"tags":["Financials","Financials"],"summary":"Financials Health","operationId":"financials_health_api_api_financials_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/api/financials/book-kpis":{"get":{"tags":["Financials","Financials"],"summary":"Get Book Kpis","operationId":"get_book_kpis_api_api_financials_book_kpis_get","parameters":[{"name":"bookUid","in":"query","required":true,"schema":{"type":"string","title":"Bookuid"}},{"name":"mode","in":"query","required":false,"schema":{"type":"string","default":"MONTH","title":"Mode"}},{"name":"year","in":"query","required":false,"schema":{"type":"integer","title":"Year"}},{"name":"month","in":"query","required":false,"schema":{"anyOf":[{},{"type":"null"}],"title":"Month"}},{"name":"season","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Season"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"ALL","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/api/financials/book-format-stats":{"get":{"tags":["Financials","Financials"],"summary":"Get Book Format Stats","operationId":"get_book_format_stats_api_api_financials_book_format_stats_get","parameters":[{"name":"bookUid","in":"query","required":true,"schema":{"type":"string","title":"Bookuid"}},{"name":"year","in":"query","required":false,"schema":{"type":"integer","title":"Year"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/financials/upload":{"post":{"tags":["Financial Uploads"],"summary":"Upload Financial File","description":"Save a financial CSV file to disk under:\n  data/financials/YYYY-MM/<reportKind>/<original_filename>\n\nThen (optionally) rebuild book_data/financials.json by running financials_ingest.py","operationId":"upload_financial_file_api_financials_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_financial_file_api_financials_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/financials/uploads":{"get":{"tags":["Financial Uploads"],"summary":"List Financial Uploads","description":"Very simple index: scan data/financials and return what we find.\nThis is enough to make the 'Uploaded List' tab work.","operationId":"list_financial_uploads_api_financials_uploads_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List Financial Uploads Api Financials Uploads Get"}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"AcceptInviteBody":{"properties":{"token":{"type":"string","title":"Token"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"phone":{"type":"string","title":"Phone","default":""},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"}},"type":"object","required":["token","email","password","full_name"],"title":"AcceptInviteBody"},"BankingEnvelope-Input":{"properties":{"author":{"$ref":"#/components/schemas/BankingParty"},"illustrator":{"$ref":"#/components/schemas/BankingParty"}},"type":"object","title":"BankingEnvelope"},"BankingEnvelope-Output":{"properties":{"author":{"$ref":"#/components/schemas/BankingParty"},"illustrator":{"$ref":"#/components/schemas/BankingParty"}},"type":"object","title":"BankingEnvelope"},"BankingParty":{"properties":{"isForeign":{"type":"boolean","title":"Isforeign","default":false},"us":{"anyOf":[{"$ref":"#/components/schemas/USBankInfo"},{"type":"null"}]},"foreign":{"anyOf":[{"$ref":"#/components/schemas/ForeignBankInfo"},{"type":"null"}]}},"type":"object","title":"BankingParty"},"Body_ingest_onix_file_api_ingest_onix_file_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"source_tag":{"type":"string","title":"Source Tag","default":"onix"}},"type":"object","required":["file"],"title":"Body_ingest_onix_file_api_ingest_onix_file_post"},"Body_upload_file_api_api_uploads__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"kind":{"type":"string","enum":["author_contract","illustrator_contract","w9","book_cover","other"],"title":"Kind"},"book_key":{"type":"string","title":"Book Key","default":""}},"type":"object","required":["file","kind"],"title":"Body_upload_file_api_api_uploads__post"},"Body_upload_financial_file_api_financials_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"periodCode":{"type":"string","title":"Periodcode"},"year":{"type":"integer","title":"Year"},"month":{"type":"integer","title":"Month"},"reportKind":{"type":"string","title":"Reportkind"},"rebuild":{"type":"boolean","title":"Rebuild","default":true}},"type":"object","required":["file","periodCode","year","month","reportKind"],"title":"Body_upload_financial_file_api_financials_upload_post"},"Body_upload_template_api_contracts_templates_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"name":{"type":"string","title":"Name"},"type":{"type":"string","enum":["author","illustrator","generic"],"title":"Type"},"dealType":{"type":"string","enum":["single","series","other"],"title":"Dealtype"}},"type":"object","required":["file","name","type","dealType"],"title":"Body_upload_template_api_contracts_templates_post"},"ContractTemplate":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"filename":{"type":"string","title":"Filename"},"type":{"type":"string","enum":["author","illustrator","generic"],"title":"Type"},"dealType":{"type":"string","enum":["single","series","other"],"title":"Dealtype"},"uploadedAt":{"type":"string","title":"Uploadedat"},"placeholders":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Placeholders"},"previewUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Previewurl"}},"type":"object","required":["id","name","filename","type","dealType","uploadedAt"],"title":"ContractTemplate"},"CreateTenantBody":{"properties":{"name":{"type":"string","title":"Name"},"slug":{"type":"string","title":"Slug"}},"type":"object","required":["name","slug"],"title":"CreateTenantBody"},"ForeignBankInfo":{"properties":{"bankName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bankname"},"bankAddress":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bankaddress"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"swiftBic":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Swiftbic"},"iban":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Iban"},"accountNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountnumber"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"}},"type":"object","title":"ForeignBankInfo"},"GenerateRequest":{"properties":{"dealMemo":{"additionalProperties":true,"type":"object","title":"Dealmemo"},"templateId":{"type":"string","title":"Templateid"},"mapping":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Mapping"}},"type":"object","required":["dealMemo","templateId"],"title":"GenerateRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InsertTokenPayload":{"properties":{"placeholder":{"type":"string","title":"Placeholder"},"paragraph_index":{"type":"integer","title":"Paragraph Index"},"char_offset":{"type":"integer","title":"Char Offset"},"left_ctx":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Left Ctx"},"right_ctx":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Right Ctx"}},"type":"object","required":["placeholder","paragraph_index","char_offset"],"title":"InsertTokenPayload"},"InviteCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"role":{"type":"string","title":"Role"},"ttl_hours":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ttl Hours","default":72},"module_permissions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Module Permissions"}},"type":"object","required":["email","role"],"title":"InviteCreate"},"LoginBody":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"companyName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Companyname"},"tenant_slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tenant Slug"}},"type":"object","required":["email","password"],"title":"LoginBody"},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"Bearer"},"user":{"additionalProperties":true,"type":"object","title":"User"}},"type":"object","required":["access_token","user"],"title":"LoginResponse"},"MappingItem":{"properties":{"field_key":{"type":"string","title":"Field Key"},"placeholder":{"type":"string","title":"Placeholder"},"position":{"$ref":"#/components/schemas/MappingPosition"}},"type":"object","required":["field_key","placeholder","position"],"title":"MappingItem"},"MappingPosition":{"properties":{"x_pct":{"type":"number","maximum":100.0,"minimum":0.0,"title":"X Pct"},"y_pct":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Y Pct"}},"type":"object","required":["x_pct","y_pct"],"title":"MappingPosition"},"OnixIngestRequest":{"properties":{"uid":{"type":"string","title":"Uid"},"filename":{"type":"string","title":"Filename"},"source_tag":{"type":"string","title":"Source Tag","default":"onix"}},"type":"object","required":["uid","filename"],"title":"OnixIngestRequest"},"RoyaltyStatementRequest":{"properties":{"uid":{"type":"string","title":"Uid"},"period_start":{"type":"string","title":"Period Start"},"period_end":{"type":"string","title":"Period End"},"sales_data":{"items":{"$ref":"#/components/schemas/SalesData"},"type":"array","title":"Sales Data"},"author_rates":{"additionalProperties":{"type":"number"},"type":"object","title":"Author Rates"},"illustrator_rates":{"additionalProperties":{"type":"number"},"type":"object","title":"Illustrator Rates"},"author_advance":{"type":"number","title":"Author Advance","default":0.0},"illustrator_advance":{"type":"number","title":"Illustrator Advance","default":0.0}},"additionalProperties":true,"type":"object","required":["uid","period_start","period_end","sales_data"],"title":"RoyaltyStatementRequest"},"SalesData":{"properties":{"category":{"type":"string","title":"Category"},"units":{"type":"integer","title":"Units","default":0},"returns":{"type":"integer","title":"Returns","default":0},"unit_price_or_net_revenue":{"type":"number","title":"Unit Price Or Net Revenue","default":0.0},"discount":{"type":"number","title":"Discount","default":0.0},"net_revenue":{"type":"boolean","title":"Net Revenue","default":false}},"type":"object","required":["category"],"title":"SalesData"},"TemplateMapping":{"properties":{"templateId":{"type":"string","title":"Templateid"},"mapping":{"items":{"$ref":"#/components/schemas/MappingItem"},"type":"array","title":"Mapping"}},"type":"object","required":["templateId","mapping"],"title":"TemplateMapping"},"USBankInfo":{"properties":{"routing":{"type":"string","title":"Routing"},"accountNumber":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accountnumber"},"accountType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Accounttype","default":"checking"},"bankName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bankname"},"bankAddress":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bankaddress"},"validated":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Validated"}},"type":"object","required":["routing"],"title":"USBankInfo"},"UpdatePermissionsBody":{"properties":{"module_permissions":{"additionalProperties":true,"type":"object","title":"Module Permissions"}},"type":"object","required":["module_permissions"],"title":"UpdatePermissionsBody"},"UpdateRoleBody":{"properties":{"role":{"type":"string","title":"Role"}},"type":"object","required":["role"],"title":"UpdateRoleBody"},"UploadResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"},"url":{"type":"string","title":"Url"},"filename":{"type":"string","title":"Filename"},"mime":{"type":"string","title":"Mime"},"size":{"type":"integer","title":"Size"},"width":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Width"},"height":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Height"},"dpi":{"anyOf":[{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2},{"type":"null"}],"title":"Dpi"}},"type":"object","required":["ok","url","filename","mime","size"],"title":"UploadResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"},"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/auth/login"}}}}}}